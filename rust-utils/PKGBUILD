# PKGDEST=/tmp makepkg -R --sign
pkgbase=rust-utils
pkgname=(rust-cli-utils rust-cargo-utils)
pkgver=$(date '+%Y%m%d')
pkgrel=1
arch=('x86_64')
license=('MIT')
depends=()
makedepends=()
source=()
sha256sums=()

# => cargo +nightly install $_pkg

package_rust-cli-utils() {
  pkgdesc='List of nice cli written in rust and compiled via cargo (nightly)'
  _bin=($( ruby -e "require 'dr/packages/user'
  puts DR::Packages::User::CARGO_TOOLS_BIN[:cli].join(' ')"))
  install -Dm755 -t "$pkgdir"/usr/bin/ "${_bin[@]/#/${CARGO_HOME}/bin/}"
}

package_rust-cargo-utils() {
  pkgdesc='Cargo helpers'
  _bin=($( ruby -e "require 'dr/packages/user'
  puts DR::Packages::User::CARGO_TOOLS_BIN[:cargo].join(' ')"))
  install -Dm755 -t "$pkgdir"/usr/bin/ "${_bin[@]/#/${CARGO_HOME}/bin/}"
}

